"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue");function t(e={},n="-"){return Object.keys(e).reduce(((r,s)=>{const u=e[s],a=`${n}-${s}`;if("string"==typeof u)return r[a]=u,r;{const e=t(u,a);return Object.assign(Object.assign({},r),e)}}),{})}const n=Symbol("theme");class r{constructor(t){this.name=e.ref("default"),this.map=new Map,this.map=new Map(Object.entries(t))}install(e,t){e.provide(t||n,this)}changeTheme(e){this.map.has(e)?this.name.value=e:console.warn(`theme ${e} not found`)}setTheme(e,t){this.map.set(e,t)}deleteTheme(e){"default"!==e?this.map.delete(e):console.warn("can not delete default theme, try change it by `setTheme('default', newTheme)`")}get data(){return e.computed((()=>this.map.get(this.name.value)))}get styles(){return e.computed((()=>t(this.data.value)))}get currentTheme(){return e.computed((()=>this.name.value))}get themeList(){return e.computed((()=>[...this.map.keys()]))}}exports.createTheme=function(e){return new r(e)},exports.useTheme=function(t=null){var r;return null===(r=e.inject(null!==t?t:n))||void 0===r?void 0:r.data},exports.useThemeController=function(t=null){return e.inject(null!==t?t:n)};
