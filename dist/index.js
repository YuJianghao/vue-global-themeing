"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue");function t(e={},n="-"){return Object.keys(e).reduce(((r,u)=>{const s=e[u],a=`${n}-${u}`;if("string"==typeof s)return r[a]=s,r;{const e=t(s,a);return{...r,...e}}}),{})}const n=Symbol("theme");class r{name=e.ref("default");map=new Map;constructor(e){this.map=new Map(Object.entries(e))}install(e,t){e.provide(t||n,this)}changeTheme(e){this.map.has(e)?this.name.value=e:console.warn(`theme ${e} not found`)}setTheme(e,t){this.map.set(e,t)}deleteTheme(e){"default"!==e?this.map.delete(e):console.warn("can not delete default theme, try change it by `setTheme('default', newTheme)`")}get data(){return e.computed((()=>this.map.get(this.name.value)))}get styles(){return e.computed((()=>t(this.data.value)))}get currentTheme(){return e.computed((()=>this.name.value))}get themeList(){return e.computed((()=>[...this.map.keys()]))}}exports.createTheme=function(e){return new r(e)},exports.useTheme=function(t=null){return e.inject(null!==t?t:n)?.data},exports.useThemeController=function(t=null){return e.inject(null!==t?t:n)};
